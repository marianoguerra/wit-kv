# wit-kv Server Configuration
# ============================
#
# This file configures the wit-kv HTTP API server. Copy this file to
# wit-kv-server.toml and adjust the settings for your environment.
#
# Start the server with:
#   wit-kv-server --config wit-kv-server.toml

# ------------------------------------------------------------------------------
# Server Settings
# ------------------------------------------------------------------------------
# Configure the HTTP server's network binding.

[server]
# The IP address to bind the server to.
#
# Common values:
#   "127.0.0.1" - Listen only on localhost (default, recommended for development)
#   "0.0.0.0"   - Listen on all network interfaces (required for remote access)
#
# Security note: Only bind to 0.0.0.0 if you have proper network security
# (firewall, reverse proxy, etc.) in place.
bind = "127.0.0.1"

# The port number to listen on.
#
# Default: 8080
# Make sure this port is available and not blocked by your firewall.
port = 8080

# Optional: Path to serve static files from.
#
# If specified, files in this directory are served at the root path,
# after all API endpoints. This is useful for serving a web UI.
#
# Example: Serve the wit-kv client UI
# static_path = "./client/dist"
#
# Files are resolved relative to this path:
#   /index.html -> ./client/dist/index.html
#   /app.js     -> ./client/dist/app.js

# ------------------------------------------------------------------------------
# CORS Settings
# ------------------------------------------------------------------------------
# Configure Cross-Origin Resource Sharing (CORS).
# By default, all cross-origin requests are DENIED for security.

[cors]
# Enable CORS. Set to true to allow cross-origin requests.
# Default: false (all cross-origin requests are denied)
enabled = false

# Allowed origins. List of URLs that can make cross-origin requests.
# Use ["*"] to allow all origins (NOT recommended for production).
#
# Examples:
#   allow_origins = ["http://localhost:3000"]
#   allow_origins = ["https://myapp.com", "https://admin.myapp.com"]
#   allow_origins = ["*"]  # Allow all (use with caution)
allow_origins = []

# Allowed HTTP methods.
# Default: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
# allow_methods = ["GET", "POST", "PUT", "DELETE", "OPTIONS"]

# Allowed headers in requests.
# Default: ["Content-Type", "Accept", "Authorization"]
# allow_headers = ["Content-Type", "Accept", "Authorization"]

# Allow credentials (cookies, authorization headers).
# Default: false
# allow_credentials = false

# Max age for preflight request caching in seconds.
# Default: 3600 (1 hour)
# max_age = 3600

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------
# Configure one or more wit-kv databases. Each database is a separate
# key-value store with its own keyspaces and types.
#
# Databases are accessed via the API at: /{database_name}/...
#
# You must define at least one database.

[[databases]]
# The name used in API paths.
#
# Example: With name = "default", the API endpoints are:
#   GET  /default/keyspaces
#   POST /default/keyspaces/{keyspace}/keys/{key}
#   etc.
#
# Use short, URL-friendly names (alphanumeric, hyphens, underscores).
name = "default"

# Path to the database directory.
#
# Can be absolute or relative to the server's working directory.
# The directory will be created if it doesn't exist (when initialized via API).
#
# Examples:
#   ".wit-kv"                  - Relative path in current directory
#   "/var/lib/wit-kv/default"  - Absolute path for production
#   "./data/mydb"              - Relative path in data subdirectory
path = ".wit-kv"

# ------------------------------------------------------------------------------
# Additional Databases (Optional)
# ------------------------------------------------------------------------------
# You can configure multiple databases for different purposes.
# Each [[databases]] section defines a separate database.

# Example: Archive database for historical data
# [[databases]]
# name = "archive"
# path = "/var/lib/wit-kv/archive"

# Example: Test database for development
# [[databases]]
# name = "test"
# path = "./test-data"
